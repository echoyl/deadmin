"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[806],{39385:function(K,v,l){l.r(v);var I=l(15009),u=l.n(I),w=l(99289),_=l.n(w),j=l(5574),M=l.n(j),d=l(86488),O=l(72644),p=l(33067),D=l(67294),C=l(85893);v.default=function(){var x=(0,D.useState)([]),f=M()(x,2),h=f[0],L=f[1],W=function(){var i=_()(u()().mark(function t(n){var r,a;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get("category",{params:{title:n,pageSize:50,search:1}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},t)}));return function(n){return i.apply(this,arguments)}}(),R=function(){var i=_()(u()().mark(function t(n){var r,a;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get("web/menu",{params:{title:n,pageSize:50,search:1}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},t)}));return function(n){return i.apply(this,arguments)}}(),z=function(){var i=_()(u()().mark(function t(n){var r,a;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get("posts/posts",{params:{title:n,pageSize:50,search:1}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},t)}));return function(n){return i.apply(this,arguments)}}(),A=function(t){return["title","small_title",{title:"Banner\u56FE\u7247",dataIndex:"banner",valueType:"uploader",fieldProps:{max:9},tooltip:"\u5982\u679C\u672A\u4E0A\u4F20\u4F1A\u8BFB\u53D6\u4E0A\u7EA7\u83DC\u5355\u7684banner\u56FE\u7247",formItemProps:{tooltip:"\u6700\u591A9\u5F20"}},{title:"\u83DC\u5355\u56FE\u7247",dataIndex:"pics",valueType:"uploader",fieldProps:{max:9},formItemProps:{tooltip:"\u6700\u591A9\u5F20"}},{title:"\u6A21\u5757\u7C7B\u578B",dataIndex:"module",valueType:"select",requestDataName:"modules",fieldProps:{fieldNames:{value:"id",label:"title"}},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u5757\u7C7B\u578B"}]}},"alias",{valueType:"dependency",name:["module"],columns:function(r){var a=r.module,s=[],e=h.find(function(b){return b.id==a});return a&&(a!="link"&&s.push({title:"URL\u522B\u540D",dataIndex:"alias",formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165URL\u522B\u540D"}]},fieldProps:{placeholder:"\u8BF7\u8F93\u5165URL\u522B\u540D"}}),["link","menu"].includes(a)?a=="link"&&s.push({title:"\u5916\u94FE",dataIndex:"link",formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5916\u94FE"}]},fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u5916\u94FE"}}):(s.push({title:"\u6A21\u677F\u6807\u8BC6",dataIndex:"tpl",fieldProps:{placeholder:"\u4E3A\u7A7A\u5219\u8BFB\u53D6\u9009\u4E2D\u6A21\u5757\u4E0B\u9ED8\u8BA4\u6A21\u677F"}}),(e==null?void 0:e.type)=="content"&&(console.log(e,h),s.push({valueType:"group",columns:[{dataIndex:"admin_model_id",title:"\u5173\u8054\u6A21\u578B",valueType:"treeSelect",fieldProps:{options:t==null?void 0:t.admin_model_ids,treeLine:{showLeafIcon:!0},treeDefaultExpandAll:!0,allowClear:!0},width:"md"},{title:"\u9875\u9762\u7C7B\u578B",dataIndex:"pagetype",valueType:"radioButton",fieldProps:{options:[{label:"\u5217\u8868",value:"list"},{label:"\u8BE6\u60C5\u9875",value:"detail"}],buttonStyle:"solid"}}]}),s.push({valueType:"dependency",name:["pagetype","admin_model_id"],columns:function(y){var m=y.pagetype,P=y.admin_model_id;if(console.log(m),m=="list"&&P)return[{valueType:"group",columns:[{title:"\u5206\u7C7B\u9009\u62E9",dataIndex:"category_id",valueType:"cascader",width:"md",request:function(){var B=_()(u()().mark(function g($){var E,T;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.ZP.get("web/menu/category",{params:{admin_model_id:P}});case 2:return E=o.sent,T=E.data,o.abrupt("return",T);case 5:case"end":return o.stop()}},g)}));function S(g){return B.apply(this,arguments)}return S}(),fieldProps:{fieldNames:{label:"title",value:"id"},changeOnSelect:!0}},{title:"\u663E\u793A\u5B50\u5206\u7C7B",valueType:"switch",dataIndex:"category_all",fieldProps:d.eu},{title:"\u5206\u9875\u6570\u91CF",valueType:"digit",dataIndex:"pagesize"}]}];if(m=="detail"){var c;return[{title:"\u5185\u5BB9\u9009\u62E9",dataIndex:"content_id",valueType:"debounceSelect",fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22",fetchOptions:e==null||(c=e.url)===null||c===void 0?void 0:c.posts,fieldNames:{label:"title",value:"id"}},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5185\u5BB9"}]}}]}else return[]}})))),s}},{valueType:"group",columns:["displayorder",{title:"\u65B0\u5F00\u9875\u9762\u6253\u5F00",dataIndex:"blank",valueType:"switch",fieldProps:d.eu},{title:"\u9876\u90E8\u663E\u793A",dataIndex:"top",valueType:"switch",fieldProps:d.eu},{title:"\u5E95\u90E8\u663E\u793A",dataIndex:"bottom",valueType:"switch",fieldProps:d.eu},"state"]},"parent_id","id"]},U=[{valueType:"group",columns:[{title:"\u9996\u9875\u663E\u793A",dataIndex:"index_show",valueType:"switch",fieldProps:d.eu},{title:"\u5217\u8868\u663E\u793A",dataIndex:"list_show",valueType:"switch",fieldProps:d.eu}]},{title:"\u9875\u9762\u914D\u7F6E",dataIndex:"specs",valueType:"jsonForm"},{title:"\u7B80\u4ECB",dataIndex:"desc",valueType:"tinyEditor"},{title:"\u5185\u5BB9",dataIndex:"content_detail",valueType:"tinyEditor"},{title:"\u76F8\u5173\u8054\u83DC\u5355",request:R,dataIndex:"relate_menu_id",valueType:"cascader",fieldProps:{fieldNames:{label:"title",value:"id"},changeOnSelect:!0,multiple:!0}}];return(0,C.jsx)(O.Z,{url:"web/menu/show",formTitle:!1,beforePost:function(t){},beforeGet:function(t){L(t.modules)},tabs:[{title:"\u57FA\u672C\u8BBE\u7F6E",formColumns:A},{title:"\u9875\u9762\u8BBE\u7F6E",formColumns:U}],labels:{title:"\u83DC\u5355\u540D\u79F0"},match:!0})}}}]);
